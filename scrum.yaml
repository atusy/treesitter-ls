# AI-Agentic Scrum Dashboard
# Single source of truth for all Scrum artifacts
# Git tracks when changes were made - no timestamps needed
# Order is priority - higher items have higher priority
# Historical details: git log -- scrum.yaml

---
# ==============================================================================
# RULES (Condensed)
# ==============================================================================

rules:
  core:
    - "Single Source of Truth: This dashboard is the only place for Scrum artifacts"
    - "Git as History: Do not add timestamps. Use git log for history"
    - "Order is Priority: Items higher in lists have higher priority"
    - "1 Sprint = 1 PBI: Each Sprint delivers exactly one PBI"

  definition_of_ready:
    summary: "Ready = AI can complete it without asking humans"
    flow: "draft -> refining -> ready"

  tdd_workflow:
    cycle: "pending -> red (commit) -> green (commit) -> refactoring (commit) -> completed"
    discipline: "ONE commit per TDD phase. Never mix behavioral and structural changes"

  agent_responsibilities:
    product_owner: "Product Backlog, Product Goal, Sprint acceptance"
    scrum_master: "Sprint config, Impediments, Retrospective, Metrics"
    developer: "Subtask status, Progress, Notes, Impediments"

---
# ==============================================================================
# QUICK STATUS
# ==============================================================================

quick_status:
  current_sprint: null
  backlog: "0 PBI ready - Backlog refinement needed"
  impediments: 0
  next_recommended: "Backlog refinement session required"

---
# ==============================================================================
# PRODUCT GOAL
# ==============================================================================

product_goal:
  statement: "Enable zero-configuration usage of treesitter-ls: users can start the LSP server and get syntax highlighting for any supported language without manual setup."
  mvp_status: COMPLETE
  mvp_definition: |
    Minimum Viable Zero-Config Experience:
    1. User starts treesitter-ls with no initialization options
    2. User opens a .lua file (or any supported language)
    3. treesitter-ls automatically:
       a. Detects the language from file extension (via LSP languageId)
       b. Installs the parser and queries if missing (autoInstall: true by default)
       c. Uses default searchPaths (~/.local/share/treesitter-ls)
       d. Provides semantic highlighting
    4. Power users can still override with explicit configuration
  owner: "@scrum-team-product-owner"

---
# ==============================================================================
# PRODUCT BACKLOG (Active Items Only)
# ==============================================================================
# Completed PBIs: PBI-001 through PBI-065
# For details: git log -- scrum.yaml

product_backlog: []
  # ============================================================================
  # Backlog Empty - Refinement Session Required
  # ============================================================================
  # Last completed: PBI-061 (remove filetypes field) - Sprint 48
  # For historical PBI details: git log -- scrum.yaml
  #
  # ADR-0003: Parser Compilation Fallback Strategy - SUPERSEDED
  # Decision: Keep tree-sitter-cli as sole compilation dependency
  # ============================================================================

---
# ==============================================================================
# DEFINITION OF READY
# ==============================================================================

definition_of_ready:
  criteria:
    - "AI can complete this story without human input"
    - "User story has role, capability, and benefit"
    - "At least 3 acceptance criteria with verification commands"
    - "Dependencies are resolved or not blocking"

---
# ==============================================================================
# DEFINITION OF DONE
# ==============================================================================

definition_of_done:
  checks:
    - name: "All unit tests pass"
      run: "make test"
    - name: "Code quality checks pass"
      run: "make check"
    - name: "E2E tests pass"
      run: "make test_nvim"

---
# ==============================================================================
# CURRENT SPRINT
# ==============================================================================

current_sprint: null

---
# ==============================================================================
# COMPLETED SPRINTS (Summary Only)
# ==============================================================================
# For detailed subtasks and commits: git log -- scrum.yaml

completed_sprints:
  # Recent sprints with insights (keep latest 3 for learning)
  - sprint: 48
    pbi: PBI-061
    outcome: "Removed filetypes field - language detection via languageId"
    insight: "Removal with serde(default) simpler than addition - only affects code using the field"

  - sprint: 47
    pbi: PBI-064
    outcome: "Added injections field for custom injection query paths"
    insight: "Config API additions following existing patterns are straightforward"

  - sprint: 46
    pbi: PBI-065
    outcome: "Updated dependencies: tree-sitter 0.26.3, tokio 1.48.0"
    insight: "Risk-based batching: batch low-risk, evaluate high-risk individually"

  # Historical summary (Sprints 1-45)
  # For detailed history: git log -- scrum.yaml
  #
  # Key milestones:
  # - Sprint 44: TIDYING INITIATIVE COMPLETE (Sprint 22-44)
  # - Sprint 45: Simplified query config API (highlights/locals)
  # - Sprint 9: Zero-Config MVP complete
  # - Sprint 1: Semantic tokens for injected languages

---
# ==============================================================================
# IMPEDIMENTS
# ==============================================================================

impediments:
  active: []
  # Format: {id, description, impact, severity, status}

---
# ==============================================================================
# AGENTS
# ==============================================================================

agents:
  roles:
    product_owner: "@scrum-team-product-owner"
    scrum_master: "@scrum-team-scrum-master"
    developer: "@scrum-team-developer"
  events:
    planning: "@scrum-event-sprint-planning"
    review: "@scrum-event-sprint-review"
    retrospective: "@scrum-event-sprint-retrospective"
    refinement: "@scrum-event-backlog-refinement"
